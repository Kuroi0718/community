<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/">
<head>
<meta charset="UTF-8">
<title>訂單查詢</title>
<style>
.th1,.th14{width:93px}
.th2{width:163px}
.th3{word-wrap: break-word;width:70px}
.th4{width:80px}
.th5{word-wrap: break-word;width:100px}
.th6,.th7,.th8,.th9,.th11,.th12,.th13{width:70px}
.th10{word-wrap: break-word;width:100px}


.buyerToPayListTable,.buyerToShipListTable,.buyerShippedListTable,.buyerReceivedListTable,.buyerCompletedListTable,.buyerCancelledListTable,.checkMyOrderDetail{
border:3px solid grey;
}
.buyerToPayListTable td,.buyerToPayListTable th,.buyerToShipListTable td,.buyerToShipListTable th,
.buyerShippedListTable td,.buyerShippedListTable th,.buyerReceivedListTable td,.buyerReceivedListTable th,
.buyerCompletedListTable td,.buyerCompletedListTable th,.checkMyOrderDetail td,.checkMyOrderDetail th,
.buyerCancelledListTable td,.buyerCancelledListTable th{
border:3px solid grey;
}

datalist {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  writing-mode: vertical-lr;
  width: 600px;
}

option {
  padding: 0;
  font-size:30px;font-weight:bold
}

input[type="range"] {
  appearance: none;
  height: 40px;
  width: 600px;
  background: none; 
  outline: none;
  border-radius: 0; 
  overflow: hidden;
  cursor: pointer;
  border-radius:40px;
  border:#BEBEBE solid 2px;
  
}
::-webkit-slider-runnable-track {
    background-color: white;
  }
 ::-webkit-slider-thumb {
    -webkit-appearance: none;
    width: 40px;
    height: 40px;
    background-image: url('../image/slider.png');
    background-color:transparent;
    border: none;
    
}
::-webkit-slider-thumb:hover{
   transform:scale(1.05);
}
::-webkit-slider-thumb {
    box-shadow: -100vw 0 0 100vw #32E3BA;
  }
 ::-webkit-slider-thumb {
    box-shadow: -100vw 0 0 100vw #32E3BA;
  }
</style>
</head>
<body style="overflow:hidden">

<!-------------------------------訂單查詢Start ---------------------------------------------->
<div style="width:800px;margin:auto;margin-top:50px">
<label for="BuyerOrderStatus" style="font-size:30px;font-weight:bold">查詢各階段訂單：</label><br />
<input type="range" id="BuyerOrderStatus" name="BuyerOrderStatus" list="BuyerProgress" step="25" max="125" 
	value="0" onchange="checkBuyerOrder()"/>

<datalist id="BuyerProgress">
  <option value="0" label="訂單成立" ></option>
  <option value="25" label="待出貨"></option>
  <option value="50" label="已出貨"></option>
  <option value="75" label="已送達"></option>
  <option value="100" label="訂單完成"></option>
  <option value="125" label="已取消" style="color:grey"></option>
</datalist>

</div>
<div id="checkMyOrderDetail" style="overflow-y:scroll;position:absolute;width:500px;height:350px;
margin-top:-10vh;margin-left:20vw;z-index:5;border:grey solid 5px;background-color:#F0F0F0;display:none;border-radius:10px">
</div>

<div id="commentBlock" style="position:absolute;width:800px;height:380px;border-radius:2rem;background:linear-gradient(to bottom, white 0%, #66B3FF 100%);
margin-top:-10vh;margin-left:0vw;z-index:5;border:grey solid 2px;background-color:white;display:none;">
<form th:id="ratingForm" th:action="@{/mall/rating}" enctype="multipart/form-data" method="post">
<div style="width:500px;margin:auto;margin-top:50px">
<div style="margin-left:115px;display:flex;flex-direction:row">
<img id ="oneStar" src="../image/oneStar.png" width="255px" style="display:none;">
<img id ="twoStars" src="../image/twoStars.png" width="255px" style="display:none;">
<img id ="threeStars" src="../image/threeStars.png" width="255px" style="display:none;">
<img id ="fourStars" src="../image/fourStars.png" width="255px" style="display:none;">
<img id ="fiveStars" src="../image/fiveStars.png" width="255px" style="display:none;">
<img id ="star1" src="../image/rating0.png" width="50px" >
<img id ="star2" src="../image/rating0.png" width="50px" style="margin-left:1.1px">
<img id ="star3" src="../image/rating0.png" width="50px" style="margin-left:1.1px">
<img id ="star4" src="../image/rating0.png" width="50px" style="margin-left:1.1px">
<img id ="star5" src="../image/rating0.png" width="50px" style="margin-left:1.1px">
</div>
<br>
<input type="hidden" id="serialIdInput" name="serialIdInput"></input>
<input type="hidden" id="score" name="score"></input>
<input type="hidden" id="ratingTargetId" name="ratingTargetId"></input>
<label for="content" style="line-height:20px;font-weight:bold;font-size:20px">評語:</label><br>
<textarea id="content" rows="3" name="content" style="width: 500px; height: 100px; resize: none;border-radius:0.375rem;"></textarea>
<br><br>
<button type="button" onclick="sendRatingForm()" style="width:150px;height:49.5px;line-height:49.5px;color:white;font-weight:bold;font-size:20px;
	background-image:url('../image/blackBTN.png');background-size:cover;background-color:transparent;border:none;margin-left:175px">送出評價</button>
</div>
</form>
</div>
<!-------------------------------訂單查詢End ---------------------------------------------->
<!------------------------------ 訂單成立buyerToPayList-------------------------------------->
	<div style="width:1100px;display:block;margin-bottom:50px;margin-top:50px;" id="buyerToPayList">
<th:block th:switch="${buyerToPayList != null}">
			<div th:case="${true}">
			
			
			<table class="buyerToPayListTable">
			<thead>
			<tr>
			<th class="th1">成立日期</th>
			<th class="th2">流水號</th>
			<th class="th3">收件人</th>
			<th class="th4">聯絡電話</th>
			<th class="th5">收件地址</th>
			<th class="th6">訂單狀態</th>
			<th class="th7">付款狀態</th>
			<th class="th8">付款方式</th>
			<th class="th9">購買商品</th>
			<th class="th10">訂單金額</th>
			<th class="th13">申請取消</th>
			</tr>
			</thead>
			<tbody>
			<th:block th:each="order : ${buyerToPayList}">
			<tr>
			<td>[[${order.getOrderDateString()}]]</td><td>[[${order.serialId}]]</td>
			<td>[[${order.recipientName}]]</td><td>[[${order.recipientTel}]]</td><td>[[${order.recipientAddress}]]</td><td>[[${order.orderStatus}]]</td><td>[[${order.payStatus}]]</td>
			<td>[[${order.paymentMethod}]]</td><td><button th:onclick="showMyOrder([[${order.serialId}]])" style="width:70px">查看</button></td><td>NT$[[${order.totalPrice}]]</td>
			<td th:id="${'cancellation_'+order.serialId}">
			<th:block th:if="${order.cancellationApply == '未申請'}">
			<button style="width:70px" th:onclick="apply([[${order.serialId}]])">申請</button>
			</th:block>
			<th:block th:if="${order.cancellationApply == '已申請'}">
			已申請
			</th:block>
			</td>
			</tr>
			</th:block>
			</tbody>
			</table>
			
				
			</div>
		</th:block>
</div>
<!----------------------------------訂單成立buyerToPayListEnd --------------------------------------->
<!------------------------------ 待出貨buyerToShipList-------------------------------------->
	<div style="width:1100px;display:none;margin-bottom:50px;margin-top:50px;" id="buyerToShipList">
<th:block th:switch="${buyerToShipList != null}">
			<div th:case="${true}">
			
			
			<table class="buyerToShipListTable">
			<thead>
			<tr>
			<th class="th1">成立日期</th>
			<th class="th2">流水號</th>
			<th class="th3">收件人</th>
			<th class="th4">聯絡電話</th>
			<th class="th5">收件地址</th>
			<th class="th6">訂單狀態</th>
			<th class="th7">付款狀態</th>
			<th class="th8">付款方式</th>
			<th class="th9">購買商品</th>
			<th class="th10">訂單金額</th>
			<th class="th13">申請取消</th>
			</tr>
			</thead>
			<th:block th:each="order : ${buyerToShipList}">
			<tbody>
			<tr>
			<td>[[${order.getOrderDateString()}]]</td><td>[[${order.serialId}]]</td>
			<td>[[${order.recipientName}]]</td><td>[[${order.recipientTel}]]</td><td>[[${order.recipientAddress}]]</td><td>[[${order.orderStatus}]]</td><td>[[${order.payStatus}]]</td>
			<td>[[${order.paymentMethod}]]</td><td><button th:onclick="showMyOrder([[${order.serialId}]])" style="width:70px">查看</button></td><td>NT$[[${order.totalPrice}]]</td>
			<td th:id="${'cancellation_'+order.serialId}">
			<th:block th:if="${order.cancellationApply == '未申請'}">
			<button style="width:70px" th:onclick="apply([[${order.serialId}]])">申請</button>
			</th:block>
			<th:block th:if="${order.cancellationApply == '已申請'}">
			已申請
			</th:block>
			</td>
			</tr>
			</th:block>
			</tbody>
			</table>
			
				
			</div>
		</th:block>
</div>
<!----------------------------------待出貨tbuyerToShipListEnd --------------------------------------->
<!------------------------------ 已出貨buyerShippedList-------------------------------------->
	<div style="width:1100px;display:none;margin-bottom:50px;margin-top:50px;" id="buyerShippedList">
<th:block th:switch="${buyerShippedList != null}">
			<div th:case="${true}">
			
			
			<table class="buyerShippedListTable">
			<thead>
			<tr>
			<th class="th1">成立日期</th>
			<th class="th2">流水號</th>
			<th class="th3">收件人</th>
			<th class="th4">聯絡電話</th>
			<th class="th5">收件地址</th>
			<th class="th6">訂單狀態</th>
			<th class="th7">付款狀態</th>
			<th class="th8">付款方式</th>
			<th class="th9">購買商品</th>
			<th class="th10">訂單金額</th>
			<th class="th11">確認</th>
			<th class="th13">申請取消</th>
			</tr>
			</thead>
			<th:block th:each="order : ${buyerShippedList}">
			<tbody>
			<tr>
			<td>[[${order.getOrderDateString()}]]</td><td>[[${order.serialId}]]</td>
			<td>[[${order.recipientName}]]</td><td>[[${order.recipientTel}]]</td><td>[[${order.recipientAddress}]]</td><td>[[${order.orderStatus}]]</td><td>[[${order.payStatus}]]</td>
			<td>[[${order.paymentMethod}]]</td><td><button th:onclick="showMyOrder([[${order.serialId}]])" style="width:70px">查看</button></td><td>NT$[[${order.totalPrice}]]</td>
			<td><button  th:id="${'buyerShippedListButton_'+order.orderId}" th:onclick="receive([[${order.orderId}]])">取貨</button></td>
			<td th:id="${'cancellation_'+order.serialId}">
			<th:block th:if="${order.cancellationApply == '未申請'}">
			<button style="width:70px" th:onclick="apply([[${order.serialId}]])">申請</button>
			</th:block>
			<th:block th:if="${order.cancellationApply == '已申請'}">
			已申請
			</th:block>
			</td>
			</tr>
			</th:block>
			</tbody>
			</table>
			
				
			</div>
		</th:block>
</div>
<!----------------------------------已出貨buyerShippedListEnd --------------------------------------->
<!------------------------------ 已送達buyerReceivedList-------------------------------------->
	<div style="width:1100px;display:none;margin-bottom:50px;margin-top:50px;" id="buyerReceivedList">
<th:block th:switch="${buyerReceivedList != null}">
			<div th:case="${true}">
			
			
			<table class="buyerReceivedListTable">
			<thead>
			<tr>
			<th class="th1">成立日期</th>
			<th class="th2">流水號</th>
			<th class="th3">收件人</th>
			<th class="th4">聯絡電話</th>
			<th class="th5">收件地址</th>
			<th class="th6">訂單狀態</th>
			<th class="th7">付款狀態</th>
			<th class="th8">付款方式</th>
			<th class="th9">購買商品</th>
			<th class="th10">訂單金額</th>
			<th class="th13">申請取消</th>
			</tr>
			</thead>
			<th:block th:each="order : ${buyerReceivedList}">
			<tbody>
			<tr>
			<td>[[${order.getOrderDateString()}]]</td><td>[[${order.serialId}]]</td>
			<td>[[${order.recipientName}]]</td><td>[[${order.recipientTel}]]</td><td>[[${order.recipientAddress}]]</td><td>[[${order.orderStatus}]]</td><td>[[${order.payStatus}]]</td>
			<td>[[${order.paymentMethod}]]</td><td><button th:onclick="showMyOrder([[${order.serialId}]])" style="width:70px">查看</button></td><td>NT$[[${order.totalPrice}]]</td>
			<td th:id="${'cancellation_'+order.serialId}">
			<th:block th:if="${order.cancellationApply == '未申請'}">
			<button style="width:70px" th:onclick="apply([[${order.serialId}]])">申請</button>
			</th:block>
			<th:block th:if="${order.cancellationApply == '已申請'}">
			已申請
			</th:block>
			</td>
			</tr>
			</th:block>
			</tbody>
			</table>
			
				
			</div>
		</th:block>
</div>
<!----------------------------------已送達buyerReceivedListEnd --------------------------------------->
<!------------------------------ 訂單完成buyerCompletedList-------------------------------------->
<div style="width:1100px;display:none;margin-bottom:50px;margin-top:50px;" id="buyerCompletedList">
<th:block th:switch="${buyerCompletedList != null}">
			<div th:case="${true}">
			
			
			<table class="buyerCompletedListTable">
			<thead>
			<tr>
			<th class="th1">成立日期</th>
			<th class="th2">流水號</th>
			<th class="th3">收件人</th>
			<th class="th4">聯絡電話</th>
			<th class="th5">收件地址</th>
			<th class="th6">訂單狀態</th>
			<th class="th7">付款狀態</th>
			<th class="th8">付款方式</th>
			<th class="th9">購買商品</th>
			<th class="th10">訂單金額</th>
			<th class="th12">評價</th>
			</tr>
			</thead>
			<th:block th:each="order : ${buyerCompletedList}">
			<tbody>
			<tr>
			<td>[[${order.getOrderDateString()}]]</td><td>[[${order.serialId}]]</td>
			<td>[[${order.recipientName}]]</td><td>[[${order.recipientTel}]]</td><td>[[${order.recipientAddress}]]</td><td>[[${order.orderStatus}]]</td><td>[[${order.payStatus}]]</td>
			<td>[[${order.paymentMethod}]]</td><td><button th:onclick="showMyOrder([[${order.serialId}]])" style="width:70px">查看</button></td><td>NT$[[${order.totalPrice}]]</td>
			<td>
			<th:block th:if="${order.buyerComment=='尚未評價'}">
			<button th:id="${'ratingButton_'+order.serialId}" th:onclick="showRatingForm([[${order.senderId}]],[[${order.serialId}]])" style="width:70px">撰寫</button>
			</th:block>
			<th:block th:if="${order.buyerComment=='已評價'}">
			已評價
			</th:block>
			</td>
			</tr>
			</th:block>
			</tbody>
			</table>
			
				
			</div>
		</th:block>
</div>
<!----------------------------------訂單完成buyerCompletedListEnd --------------------------------------->
<!------------------------------ 已取消buyerCancelledList-------------------------------------->
	<div style="width:1100px;display:none;margin-bottom:50px;margin-top:50px;" id="buyerCancelledList">
<th:block th:switch="${buyerCancelledList != null}">
			<div th:case="${true}">
			
			
			<table class="buyerCancelledListTable">
			<thead>
			<tr>
			<th class="th1">成立日期</th>
			<th class="th2">流水號</th>
			<th class="th3">收件人</th>
			<th class="th4">聯絡電話</th>
			<th class="th5">收件地址</th>
			<th class="th6">訂單狀態</th>
			<th class="th7">付款狀態</th>
			<th class="th8">付款方式</th>
			<th class="th9">購買商品</th>
			<th class="th10">訂單金額</th>
			<th class="th14">取消日期</th>
			</tr>
			</thead>
			<tbody>
			<th:block th:each="order : ${buyerCancelledList}">
			<tr>
			<td>[[${order.getOrderDateString()}]]</td><td>[[${order.serialId}]]</td>
			<td>[[${order.recipientName}]]</td><td>[[${order.recipientTel}]]</td><td>[[${order.recipientAddress}]]</td><td>[[${order.orderStatus}]]</td><td>[[${order.payStatus}]]</td>
			<td>[[${order.paymentMethod}]]</td><td><button th:onclick="showMyCancelledOrder([[${order.serialId}]])" style="width:70px">查看</button></td><td>NT$[[${order.totalPrice}]]</td>
			<td>[[${order.getCancelledDateString()}]]</td>
			</tr>
			</th:block>
			</tbody>
			</table>
			
				
			</div>
		</th:block>
</div>
<!----------------------------------已取消buyerCancelledListEnd --------------------------------------->
<script>
function apply(serialId){
let cancellation = document.getElementById('cancellation_'+serialId);
let xhttp = new XMLHttpRequest();
xhttp.onload = function(){
cancellation.innerHTML='已申請';
}
xhttp.open("POST","http://localhost:8080/community/mall/apply",true);
xhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
xhttp.send("serialId="+serialId);
}
</script>
<script>
function sendRatingForm(){
let serialIdInput = document.getElementById('serialIdInput');
serialId = serialIdInput.value;
let ratingButton = document.getElementById('ratingButton_'+serialId);
let score = document.getElementById('score');
if(oneStar.style.display=='block'){score.value=1;}
if(twoStars.style.display=='block'){score.value=2;}
if(threeStars.style.display=='block'){score.value=3;}
if(fourStars.style.display=='block'){score.value=4;}
if(fiveStars.style.display=='block'){score.value=5;}
let form = document.getElementById("ratingForm");
let commentBlock = document.getElementById('commentBlock');
let formdata = new FormData(form);
let xhttp = new XMLHttpRequest();
xhttp.onload = function(){
commentBlock.style.display='none';
star1.style.display='block';
star2.style.display='block';
star3.style.display='block';
star4.style.display='block';
star5.style.display='block';
oneStar.style.display='none';
twoStars.style.display='none';
threeStars.style.display='none';
fourStars.style.display='none';
fiveStars.style.display='none';

ratingButton.style.display='none';

}
xhttp.open("POST","http://localhost:8080/community/mall/rating",true);
xhttp.send(formdata);
}
</script>
<script>
function showRatingForm(senderId,serialId){
let serialIdInput = document.getElementById('serialIdInput');
let ratingTargetId = document.getElementById('ratingTargetId');
let commentBlock = document.getElementById('commentBlock');
commentBlock.style.display='block';
ratingTargetId.value=senderId;
serialIdInput.value=serialId;
}
</script>
<script>
let star1 = document.getElementById('star1');
let star2 = document.getElementById('star2');
let star3 = document.getElementById('star3');
let star4 = document.getElementById('star4');
let star5 = document.getElementById('star5');
let oneStar = document.getElementById('oneStar');
let twoStars = document.getElementById('twoStars');
let threeStars = document.getElementById('threeStars');
let fourStars = document.getElementById('fourStars');
let fiveStars = document.getElementById('fiveStars');
oneStar.addEventListener('click',function(){
star1.style.display='block';
star2.style.display='block';
star3.style.display='block';
star4.style.display='block';
star5.style.display='block';
oneStar.style.display='none';
})
star1.addEventListener('click',function(){
star1.style.display='none';
star2.style.display='none';
star3.style.display='none';
star4.style.display='none';
star5.style.display='none';
oneStar.style.display='block';
})
star1.addEventListener('mouseover',function(){
star1.src = '../image/rating1.png';
})
star1.addEventListener('mouseleave',function(){
star1.src = '../image/rating0.png';
})
twoStars.addEventListener('click',function(){
star1.style.display='block';
star2.style.display='block';
star3.style.display='block';
star4.style.display='block';
star5.style.display='block';
twoStars.style.display='none';
})
star2.addEventListener('click',function(){
star1.style.display='none';
star2.style.display='none';
star3.style.display='none';
star4.style.display='none';
star5.style.display='none';
twoStars.style.display='block';
})
star2.addEventListener('mouseover',function(){
star1.src = '../image/rating1.png';
star2.src = '../image/rating1.png';
})
star2.addEventListener('mouseleave',function(){
star1.src = '../image/rating0.png';
star2.src = '../image/rating0.png';
})
threeStars.addEventListener('click',function(){
star1.style.display='block';
star2.style.display='block';
star3.style.display='block';
star4.style.display='block';
star5.style.display='block';
threeStars.style.display='none';
})
star3.addEventListener('click',function(){
star1.style.display='none';
star2.style.display='none';
star3.style.display='none';
star4.style.display='none';
star5.style.display='none';
threeStars.style.display='block';
})
star3.addEventListener('mouseover',function(){
star1.src = '../image/rating1.png';
star2.src = '../image/rating1.png';
star3.src = '../image/rating1.png';
})
star3.addEventListener('mouseleave',function(){
star1.src = '../image/rating0.png';
star2.src = '../image/rating0.png';
star3.src = '../image/rating0.png';
})
fourStars.addEventListener('click',function(){
star1.style.display='block';
star2.style.display='block';
star3.style.display='block';
star4.style.display='block';
star5.style.display='block';
fourStars.style.display='none';
})
star4.addEventListener('click',function(){
star1.style.display='none';
star2.style.display='none';
star3.style.display='none';
star4.style.display='none';
star5.style.display='none';
fourStars.style.display='block';
})
star4.addEventListener('mouseover',function(){
star1.src = '../image/rating1.png';
star2.src = '../image/rating1.png';
star3.src = '../image/rating1.png';
star4.src = '../image/rating1.png';
})
star4.addEventListener('mouseleave',function(){
star1.src = '../image/rating0.png';
star2.src = '../image/rating0.png';
star3.src = '../image/rating0.png';
star4.src = '../image/rating0.png';
})
fiveStars.addEventListener('click',function(){
star1.style.display='block';
star2.style.display='block';
star3.style.display='block';
star4.style.display='block';
star5.style.display='block';
fiveStars.style.display='none';
})
star5.addEventListener('click',function(){
star1.style.display='none';
star2.style.display='none';
star3.style.display='none';
star4.style.display='none';
star5.style.display='none';
fiveStars.style.display='block';
})
star5.addEventListener('mouseover',function(){
star1.src = '../image/rating1.png';
star2.src = '../image/rating1.png';
star3.src = '../image/rating1.png';
star4.src = '../image/rating1.png';
star5.src = '../image/rating1.png';
})
star5.addEventListener('mouseleave',function(){
star1.src = '../image/rating0.png';
star2.src = '../image/rating0.png';
star3.src = '../image/rating0.png';
star4.src = '../image/rating0.png';
star5.src = '../image/rating0.png';
})
</script>

<script>
function checkBuyerOrder(){
let input = document.getElementById('BuyerOrderStatus');
let buyerToPayList = document.getElementById('buyerToPayList');
let buyerToShipList = document.getElementById('buyerToShipList');
let buyerShippedList = document.getElementById('buyerShippedList');
let buyerReceivedList = document.getElementById('buyerReceivedList');
let buyerCompletedList = document.getElementById('buyerCompletedList');
let buyerCancelledList = document.getElementById('buyerCancelledList');
if(input.value==0){
buyerToPayList.style.display='block';
buyerToShipList.style.display='none';
buyerShippedList.style.display='none';
buyerReceivedList.style.display='none';
buyerCompletedList.style.display='none';
buyerCancelledList.style.display='none';
}
if(input.value==25){
buyerToPayList.style.display='none';
buyerToShipList.style.display='block';
buyerShippedList.style.display='none';
buyerReceivedList.style.display='none';
buyerCompletedList.style.display='none';
buyerCancelledList.style.display='none';
}
if(input.value==50){
buyerToPayList.style.display='none';
buyerToShipList.style.display='none';
buyerShippedList.style.display='block';
buyerReceivedList.style.display='none';
buyerCompletedList.style.display='none';
buyerCancelledList.style.display='none';
}
if(input.value==75){
buyerToPayList.style.display='none';
buyerToShipList.style.display='none';
buyerShippedList.style.display='none';
buyerReceivedList.style.display='block';
buyerCompletedList.style.display='none';
buyerCancelledList.style.display='none';
}
if(input.value==100){
buyerToPayList.style.display='none';
buyerToShipList.style.display='none';
buyerShippedList.style.display='none';
buyerReceivedList.style.display='none';
buyerCompletedList.style.display='block';
buyerCancelledList.style.display='none';
}
if(input.value==125){
buyerToPayList.style.display='none';
buyerToShipList.style.display='none';
buyerShippedList.style.display='none';
buyerReceivedList.style.display='none';
buyerCompletedList.style.display='none';
buyerCancelledList.style.display='block';
}
}
</script>
<script>
function receive(orderId){
let buyerShippedListButton = document.getElementById('buyerShippedListButton_'+orderId);
let xhttp = new XMLHttpRequest();
xhttp.onload = function(){
buyerShippedListButton.disable=true;
buyerShippedListButton.innerHTML='已取貨';
}
xhttp.open("POST","http://localhost:8080/community/mall/receive",true);
xhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
xhttp.send("orderId="+orderId);
}
</script>
<script>
function buyerCheck(str){
let checkButton = document.getElementById(str);
checkButton.style.backgroundPosition = 'center';
checkButton.style.backgroundRepeat = 'no-repeat';
if(checkButton.style.backgroundImage == 'url("../image/check.png")'){
checkButton.style.backgroundImage = 'url()';
}else{
checkButton.style.backgroundImage = 'url("../image/check.png")';

}

}

function closeMyList(){
let checkMyOrderDetail = document.getElementById('checkMyOrderDetail');
checkMyOrderDetail.style.display='none';
}
</script>
<script>
function showMyOrder(serialId){
let checkOrderDetail = document.getElementById('checkOrderDetail');
let xhttp = new XMLHttpRequest();
xhttp.onload = function(){
checkMyOrderDetail.style.display='block';
checkMyOrderDetail.innerHTML = xhttp.responseText;
}
xhttp.open("POST","http://localhost:8080/community/mall/showMyOrder",true);
xhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
xhttp.send("serialId="+serialId);
}
</script>
<script>
function showMyCancelledOrder(serialId){
let checkOrderDetail = document.getElementById('checkOrderDetail');
let xhttp = new XMLHttpRequest();
xhttp.onload = function(){
checkMyOrderDetail.style.display='block';
checkMyOrderDetail.innerHTML = xhttp.responseText;
}
xhttp.open("POST","http://localhost:8080/community/mall/showMyCancelledOrder",true);
xhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
xhttp.send("serialId="+serialId);
}
</script>
</body>
</html>