<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org/">
<head>
<meta charset="UTF-8">
<title>會員登入</title>
<style>
</style>
</head>
<body>
	<div th:replace="~{layout/navbar}"></div>
	<div class="container">
		<form th:action="@{/member/login}" enctype="multipart/form-data"
			method="post">
			<div>
				姓名： <input type="text" name="username" id="username" onkeyup="check()" />
				<div id="checkUsername"></div>
			</div>
			<div>
				密碼：<input type="text" name="password" value="aaa" />
			</div>


			<button>送出</button>
		</form>
	</div>
	<h3 th:text="${msg}"></h3>
</body>


	<script type="text/javascript">
	
		function check(){
		var xhttp = new XMLHttpRequest();
		xhttp.onreadystatechange = function() {
			if (xhttp.readyState == 4 && xhttp.status == 200)
				document.getElementById("checkUsername").innerHTML = xhttp.responseText;
		}
		xhttp.open("POST","http://localhost:8080/community/member/ajax/checkUsername",true);
		xhttp.setRequestHeader("Content-type","application/x-www-form-urlencoded");
		xhttp.send("username="+username.value);
		}
	</script>

</html>